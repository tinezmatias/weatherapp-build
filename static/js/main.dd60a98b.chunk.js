(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{135:function(e,t,a){e.exports=a(267)},140:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(140),a(17)),m=a(310),i=a(29),s=a(128),u=a(18),p=a(108),d=a.n(p),b=a(129),f=a(111),x=Object(b.a)({uri:"http://ec2-18-220-185-202.us-east-2.compute.amazonaws.com:5000/graphql"}),E=Object(f.a)((function(e){var t=e.graphQLErrors,a=e.networkError;t&&t.map((function(e){return e.message})),a&&console.log("[Network error]: ".concat(a))})),g=new s.a,y=u.ApolloLink.from([d.a,E,x]),h=new i.c({cache:g,link:y}),v=a(126),j=a(117),N=a.n(j),w=a(118),O=a.n(w),k=Object(v.a)({palette:{primary:N.a,secondary:O.a}}),C=a(302),L=a(307),S=a(305),T=a(20),I=a(35),B=a(125),D=a(309),W=a(127),R=Object(C.a)((function(e){return{title:{color:e.palette.primary.main,fontSize:25,textAlign:"left",textTransform:"uppercase",width:"100%",borderBottomWidth:1,borderBottomColor:e.palette.primary.main,borderBottomStyle:"solid"}}}));var A=function(e){var t=e.label,a=R();return r.a.createElement("h1",{className:a.title},t)},V=a(130),_=a(308);function z(e){var t=e.name,a=e.label,n=e.error,c=e.inputRef,o=Object(V.a)(e,["name","label","error","inputRef"]);return r.a.createElement(_.a,Object.assign({fullWidth:!0,name:t,label:a,type:"text",error:Boolean(n),helperText:n,inputRef:c},o))}z.defaultProps={rest:{},error:null};var H=z,F=a(306);var M=function(e){var t=e.error,a=e.loading;return t?r.a.createElement("h1",null,t):a?r.a.createElement(F.a,null):null},$=Object(C.a)((function(e){return{container:{background:"default",padding:10,marginTop:10,display:"flex",flexDirection:"column",justifyContent:"space-evenly",border:"2px solid #7986cb"},buttonContainer:{marginTop:15,display:"flex",justifyContent:"center"}}}));var q=function(e){var t=e.onsubmit,a=Object(W.a)(),n=a.register,c=a.handleSubmit,o=a.errors,l=a.formState.isSubmitting,m=$();return r.a.createElement("div",{className:m.container},r.a.createElement("form",{onSubmit:c(t)},r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(H,{label:"Select City...",name:"city",inputRef:n,error:o.city})),r.a.createElement(L.a,{item:!0,xs:12,className:m.buttonContainer},r.a.createElement(D.a,{variant:"contained",color:"primary",onClick:c(t),disabled:l},"Search")))))},J=a(120),P=a.n(J),Q=a(123),Y=a.n(Q),K=a(311),U=a(121),Z=a.n(U),G=a(122);var X=Object(C.a)((function(e){return{container:{marginTop:10},boxItem:{textAlign:"left",display:"flex",flexDirection:"row",background:e.palette.primary.dark,marginBottom:1,marginTop:1},boxLabel:{textTransform:"uppercase",color:e.palette.primary.contrastText,paddingLeft:10,flex:1,cursor:"pointer"},"boxLabel::hover":{display:"none"},boxEmpty:{textTransform:"uppercase",paddingLeft:10,flex:1,textAlign:"center"},boxDelete:{textTransform:"uppercase",color:e.palette.primary.contrastText,cursor:"pointer",flex:1,textAlign:"right",paddingLeft:10,paddingRight:10}}}));var ee=function(e){var t=e.selectItem,a=X(),n=Object(I.useLocalStorage)("weatherData"),c=Object(T.a)(n,2),o=c[0],l=c[1];return r.a.createElement("div",{className:a.container},r.a.createElement(L.a,{container:!0},Z()(o)?r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxEmpty},"History empty"))):r.a.createElement(S.a,{style:{maxHeight:120,overflow:"auto",width:"100%"}},r.a.createElement(K.a,null,P()(o,(function(e,n){return r.a.createElement(L.a,{item:!0,xs:12,key:n},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxLabel,onClick:function(){return t(e)}},e.name),r.a.createElement("p",{className:a.boxDelete,onClick:function(){return function(e,t,a){var n=t||{};delete n[e],a(Object(G.a)({},n))}(n,o,l)}},r.a.createElement(Y.a,null))))}))))))},te=a(37),ae=a.n(te),ne=Object(C.a)((function(e){return{boxItem:{backgroundColor:e.palette.primary.dark,display:"flex",justifyContent:"space-between",alignItems:"center",margin:1,border:"2px solid #7986cb",paddingRight:20,paddingLeft:20},boxLabel:{color:e.palette.primary.contrastText,fontSize:25},boxValue:{color:e.palette.primary.contrastText,fontSize:20,fontWeight:700}}}));var re=function(e){var t=e.data,a=ne(),n=ae()(t,"main",{temp:0,pressure:0,humidity:0,temp_min:0,temp_max:0});return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxLabel},"Temperature"),r.a.createElement("p",{className:a.boxValue},"".concat(n.temp," \xb0C")))),r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxLabel},"Pressure"),r.a.createElement("p",{className:a.boxValue},"".concat(n.pressure," Hpa")))),r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxLabel},"Humidity"),r.a.createElement("p",{className:a.boxValue},"".concat(n.humidity," %")))),r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxLabel},"Max temperature"),r.a.createElement("p",{className:a.boxValue},"".concat(n.temp_max," \xb0C")))),r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement("div",{className:a.boxItem},r.a.createElement("p",{className:a.boxLabel},"Min temperature"),r.a.createElement("p",{className:a.boxValue},"".concat(n.temp_min," \xb0C"))))))},ce=a(124),oe=a.n(ce),le=Object(C.a)((function(e){return{container:{maxWidth:"100%",display:"flex",height:"100%",justifyContent:"center",alignItems:"center"}}}));var me=function(e){var t=e.data;console.log(t);var a=le(),n=ae()(t,"coord.lat",0),c=ae()(t,"coord.lon",0);return r.a.createElement("div",{className:a.container},r.a.createElement(oe.a,{bootstrapURLKeys:{key:"AIzaSyDmcstNY0BdjQOdykrrf9-5D201kYfB0D8"},center:{lat:n,lng:c},defaultZoom:10}))},ie=Object(C.a)((function(e){return{loading:{display:"flex",justifyContent:"center",margin:"10%"}}}));var se=function(e){var t=e.data,a=e.loading,n=ie(),c=t?t.name:"";return r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:12,md:12},r.a.createElement(A,{label:"Current weather: ".concat(c)})),r.a.createElement(L.a,{item:!0,xs:12,md:5},a?r.a.createElement(L.a,{className:n.loading},r.a.createElement(M,{loading:!0})):r.a.createElement(re,{data:t})),r.a.createElement(L.a,{item:!0,xs:12,md:7},r.a.createElement(me,{data:t})))},ue=a(71),pe=a(72),de=a.n(pe);function be(){var e=Object(ue.a)(["\n  query weather($city: String!) {\n    weather(city: $city) {\n      ...WeatherFragment\n    }\n  }\n  "," \n"]);return be=function(){return e},e}function fe(){var e=Object(ue.a)(["\n  fragment WeatherFragment on WeatherResponseType{\n    coord {\n      lat\n      lon\n    }\n    main {\n      temp\n      pressure\n      humidity\n      temp_min\n      temp_max\n    }\n    name\n  }\n"]);return fe=function(){return e},e}var xe=de()(fe()),Ee=de()(be(),xe),ge=Object(C.a)((function(e){return{loading:{display:"flex",justifyContent:"center",margin:"10%"}}}));var ye=function(){var e=ge(),t=Object(n.useState)(),a=Object(T.a)(t,2),c=a[0],o=a[1],l=Object(B.a)(Ee,{onCompleted:function(e){e&&(!function(e,t){if(e){var a=t||{},n=Object.keys(a);5===n.length&&delete a[n[4]],a[e.weather.name]=e.weather,Object(I.writeStorage)("weatherData",a)}}(e,p),o(e.weather))}}),m=Object(T.a)(l,2),i=m[0],s=m[1],u=Object(I.useLocalStorage)("weatherData"),p=Object(T.a)(u,1)[0];return r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:12,md:6},r.a.createElement(q,{onsubmit:function(e){return i({variables:{city:e.city}})}})),r.a.createElement(L.a,{item:!0,xs:12,md:6},r.a.createElement(ee,{selectItem:o})),r.a.createElement(L.a,{item:!0,xs:12,md:12},s.error?r.a.createElement(L.a,{className:e.loading},r.a.createElement(M,{error:s.error.message})):r.a.createElement(se,{data:c,loading:s.loading})))},he=Object(C.a)((function(){return{content:{paddingTop:10,paddingBottom:10,paddingLeft:40,paddingRight:40,boxShadow:"none"}}}));var ve=function(){var e=he();return r.a.createElement(L.a,{container:!0},r.a.createElement(L.a,{item:!0,xs:12},r.a.createElement(S.a,{className:e.content},r.a.createElement(A,{label:"Weather search"}),r.a.createElement(ye,null))))};var je=function(){return r.a.createElement(l.a,{client:h},r.a.createElement(m.a,{theme:k},r.a.createElement(ve,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.dd60a98b.chunk.js.map